<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Onboarding ‚Äî CoreHabit</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./assets/styles.css">
</head>

<body style="
  min-height:100vh;
  background: radial-gradient(80% 80% at 20% 10%, #1a1f35 0%, #0b0f19 60%) !important;
  color:#ffffff;
">

  <div style="max-width:720px;margin:80px auto;padding:20px;font-family:system-ui;">

    <h1>Tell us about yourself</h1>
    <p style="color:#9ca3af;">
      Answer a few questions so we can personalize your CoreHabit plan.
    </p>

    <form id="onboardingForm">

      <!-- EXISTING FIELDS (EXAMPLES ‚Äî KEEP YOURS IF DIFFERENT) -->

      <label>Goal</label>
      <select name="goal" required>
        <option value="">Select</option>
        <option value="Lose fat">Lose fat</option>
        <option value="Build muscle">Build muscle</option>
        <option value="Get healthier">Get healthier</option>
      </select>

      <label>Experience Level</label>
      <select name="experience" required>
        <option value="">Select</option>
        <option value="Beginner">Beginner</option>
        <option value="Intermediate">Intermediate</option>
      </select>

      <label>Training Location</label>
      <select name="location" required>
        <option value="">Select</option>
        <option value="Gym">Gym</option>
        <option value="Home">Home</option>
      </select>

      <label>Training Days Per Week</label>
      <select name="days_per_week" required>
        <option value="">Select</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
      </select>

      <label>Diet Preference</label>
      <select name="diet">
        <option value="Balanced">Balanced</option>
        <option value="High protein">High protein</option>
      </select>

      <label>Meals Per Day</label>
      <select name="meals_per_day">
        <option value="3">3</option>
        <option value="4">4</option>
      </select>

      <label>Allergies or Restrictions</label>
      <input type="text" name="allergies" placeholder="None" />

      <!-- üîí PREMIUM: MUSCLE FOCUS (LOCKED) -->
      <div style="
        margin-top:32px;
        padding:20px;
        border-radius:18px;
        background:rgba(124,92,255,0.08);
        border:1px solid rgba(124,92,255,0.3);
      ">

        <div style="display:flex;align-items:center;gap:10px;">
          <h2 style="margin:0;font-size:18px;">Optional Focus Area</h2>
          <span class="lock-pill">üîí Premium</span>
        </div>

        <p style="margin-top:8px;color:#cbd5e1;">
          Slightly emphasize one muscle group while keeping your plan balanced.
        </p>

        <div class="premium-lock" onclick="openUpgradeModal('focus')" style="margin-top:12px;">
          <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">
            <label><input type="radio" disabled> Chest</label>
            <label><input type="radio" disabled> Back</label>
            <label><input type="radio" disabled> Shoulders</label>
            <label><input type="radio" disabled> Arms</label>
            <label><input type="radio" disabled> Glutes</label>
            <label><input type="radio" disabled> Quads</label>
            <label><input type="radio" disabled> Hamstrings</label>
            <label><input type="radio" disabled> Core</label>
          </div>

          <p style="margin-top:10px;color:#9ca3af;font-size:13px;">
            Upgrade to unlock muscle focus customization.
          </p>
        </div>
      </div>

      <!-- SUBMIT -->
      <button type="submit" style="
        margin-top:32px;
        padding:14px 22px;
        border-radius:999px;
        border:none;
        background:#7c5cff;
        color:white;
        font-weight:700;
        font-size:16px;
        cursor:pointer;
      ">
        Continue
      </button>

    </form>
  </div>

  <!-- PREMIUM UPGRADE MODAL -->
  <div class="modal-overlay" id="premiumModalOverlay" onclick="overlayClickClose(event)">
    <div class="modal">
      <div class="modal-header">
        <div>
          <p class="modal-title">Upgrade to CoreHabit Premium</p>
          <p class="modal-subtitle"><strong>$14.99/month</strong> ¬∑ Cancel anytime</p>
        </div>
        <button class="modal-close" onclick="closeUpgradeModal()">‚úï</button>
      </div>

      <div class="modal-body">
        <div style="color:#cbd5e1;font-weight:700;">
          Free: ‚ÄúHere‚Äôs what to do.‚Äù<br/>
          Premium: ‚ÄúHere‚Äôs how to actually do it ‚Äî affordably.‚Äù
        </div>

        <ul class="modal-bullets">
          <li>üõí Weekly grocery list</li>
          <li>üíµ Budget modes & food swaps</li>
          <li>üí™ Muscle group focus</li>
          <li>üîÅ Unlimited regenerations</li>
        </ul>
      </div>

      <div class="modal-footer">
        <button class="modal-primary" onclick="upgradeClicked()">Upgrade to Premium</button>
        <button class="modal-secondary" onclick="closeUpgradeModal()">Keep Free</button>
      </div>
    </div>
  </div>

<script>
/* ---------- Save onboarding ---------- */
document.getElementById("onboardingForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const formData = new FormData(e.target);
  const data = {};

  for (const [key, value] of formData.entries()) {
    data[key] = value;
  }

  localStorage.setItem("corehabit_onboarding", JSON.stringify(data));
  window.location.href = "results.html";
});

/* ---------- Premium modal ---------- */
function openUpgradeModal(source) {
  document.getElementById("premiumModalOverlay").style.display = "flex";
}

function closeUpgradeModal() {
  document.getElementById("premiumModalOverlay").style.display = "none";
}

function overlayClickClose(e) {
  if (e.target.id === "premiumModalOverlay") closeUpgradeModal();
}

function upgradeClicked() {
  alert("Premium checkout coming next.");
  closeUpgradeModal();
}
</script>

</body>
</html>
