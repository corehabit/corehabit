<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Onboarding â€” CoreHabit</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./assets/styles.css">
</head>

<body style="
  min-height:100vh;
  background: radial-gradient(80% 80% at 20% 10%, #1a1f35 0%, #0b0f19 60%) !important;
  color:#ffffff;
">

  <div style="max-width:720px;margin:80px auto;padding:20px;font-family:system-ui;">

    <h1>Tell us about yourself</h1>
    <p style="color:#9ca3af;max-width:640px;">
      Answer a few questions so we can personalize your CoreHabit plan.
    </p>

    <form id="onboardingForm" style="margin-top:28px;">

      <!-- CORE QUESTIONS -->

      <label>Goal</label>
      <select name="goal" required>
        <option value="">Select</option>
        <option value="Lose fat">Lose fat</option>
        <option value="Build muscle">Build muscle</option>
        <option value="Get healthier">Get healthier</option>
      </select>

      <label>Experience Level</label>
      <select name="experience" required>
        <option value="">Select</option>
        <option value="Beginner">Beginner</option>
        <option value="Intermediate">Intermediate</option>
      </select>

      <label>Training Location</label>
      <select name="location" required>
        <option value="">Select</option>
        <option value="Gym">Gym</option>
        <option value="Home">Home</option>
      </select>

      <label>Training Days Per Week</label>
      <select name="days_per_week" required>
        <option value="">Select</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
      </select>

      <label>Diet Preference</label>
      <select name="diet">
        <option value="Balanced">Balanced</option>
        <option value="High protein">High protein</option>
      </select>

      <label>Meals Per Day</label>
      <select name="meals_per_day">
        <option value="3">3</option>
        <option value="4">4</option>
      </select>

      <label>Allergies or Restrictions</label>
      <input type="text" name="allergies" placeholder="None" />

      <!-- OPTIONAL PREMIUM PERSONALIZATION (SOFT) -->
      <div style="
        margin-top:44px;
        padding:24px;
        border-radius:18px;
        background:rgba(124,92,255,0.06);
        border:1px dashed rgba(124,92,255,0.25);
      ">

        <h2 style="margin:0 0 6px 0;font-size:18px;">
          Want to personalize your plan even more?
        </h2>

        <p style="margin:0 0 14px 0;color:#cbd5e1;">
          Premium members can optionally emphasize a muscle group while keeping the plan balanced.
        </p>

        <div class="premium-lock" onclick="openUpgradeModal('focus')">
          <div style="
            display:grid;
            grid-template-columns:1fr 1fr;
            gap:10px;
            opacity:0.7;
          ">
            <label><input type="radio" disabled> Chest</label>
            <label><input type="radio" disabled> Back</label>
            <label><input type="radio" disabled> Shoulders</label>
            <label><input type="radio" disabled> Arms</label>
            <label><input type="radio" disabled> Glutes</label>
            <label><input type="radio" disabled> Quads</label>
            <label><input type="radio" disabled> Hamstrings</label>
            <label><input type="radio" disabled> Core</label>
          </div>
        </div>

        <p style="margin-top:16px;font-size:14px;color:#9ca3af;">
          ğŸ”’ Included with <strong>CoreHabit Premium</strong> â€” $14.99/month Â· Cancel anytime
        </p>
      </div>

      <!-- MICRO-REASSURANCE -->
      <p style="margin-top:28px;color:#9ca3af;font-size:14px;max-width:640px;">
        You can always upgrade later â€” your free plan still includes full workouts and nutrition guidance.
      </p>

      <!-- SUBMIT -->
      <button type="submit" style="
        margin-top:24px;
        padding:14px 22px;
        border-radius:999px;
        border:none;
        background:#7c5cff;
        color:white;
        font-weight:700;
        font-size:16px;
        cursor:pointer;
      ">
        Continue
      </button>

    </form>
  </div>

  <!-- PREMIUM UPGRADE MODAL -->
  <div class="modal-overlay" id="premiumModalOverlay" onclick="overlayClickClose(event)">
    <div class="modal">
      <div class="modal-header">
        <div>
          <p class="modal-title">Upgrade to CoreHabit Premium</p>
          <p class="modal-subtitle"><strong>$14.99/month</strong> Â· Cancel anytime</p>
        </div>
        <button class="modal-close" onclick="closeUpgradeModal()">âœ•</button>
      </div>

      <div class="modal-body">
        <div style="color:#cbd5e1;font-weight:700;">
          Free: â€œHereâ€™s what to do.â€<br/>
          Premium: â€œHereâ€™s how to actually do it â€” affordably.â€
        </div>

        <ul class="modal-bullets">
          <li>ğŸ›’ Weekly grocery list</li>
          <li>ğŸ’µ Budget modes & food swaps</li>
          <li>ğŸ’ª Muscle group focus</li>
          <li>ğŸ” Unlimited regenerations</li>
        </ul>
      </div>

      <div class="modal-footer">
        <button class="modal-primary" onclick="upgradeClicked()">Upgrade to Premium</button>
        <button class="modal-secondary" onclick="closeUpgradeModal()">Keep Free</button>
      </div>
    </div>
  </div>

<script>
/* ---------- Save onboarding ---------- */
document.getElementById("onboardingForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const formData = new FormData(e.target);
  const data = {};

  for (const [key, value] of formData.entries()) {
    data[key] = value;
  }

  /* PREMIUM DATA (default for free users) */
  data.focus_muscle = "none";

  localStorage.setItem("corehabit_onboarding", JSON.stringify(data));
  window.location.href = "results.html";
});

/* ---------- Premium modal ---------- */
function openUpgradeModal(source) {
  document.getElementById("premiumModalOverlay").style.display = "flex";
}

function closeUpgradeModal() {
  document.getElementById("premiumModalOverlay").style.display = "none";
}

function overlayClickClose(e) {
  if (e.target.id === "premiumModalOverlay") closeUpgradeModal();
}

function upgradeClicked() {
  alert("Premium checkout coming next.");
  closeUpgradeModal();
}
</script>

</body>
</html>
